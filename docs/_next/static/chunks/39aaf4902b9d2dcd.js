(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87240,(e,t,r)=>{"use strict";function s(e){this.message=e}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,t.exports=s},17627,(e,t,r)=>{"use strict";var s=e.r(87240);function a(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,r=this;e(function(e){r.reason||(r.reason=new s(e),t(r.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},t.exports=a},29852,(e,t,r)=>{"use strict";t.exports=function(e){return!!(e&&e.__CANCEL__)}},45329,(e,t,r)=>{"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},98703,(e,t,r)=>{"use strict";t.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},9925,(e,t,r)=>{"use strict";t.exports=function(e,t){return function(){for(var r=Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return e.apply(t,r)}}},83023,(e,t,r)=>{"use strict";var s=e.r(9925),a=Object.prototype.toString;function n(e){return"[object Array]"===a.call(e)}function i(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}t.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"u">typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"u">typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:l,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:d,isStream:function(e){return o(e)&&d(e.pipe)},isURLSearchParams:function(e){return"u">typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return(!("u">typeof navigator)||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"u">typeof window&&"u">typeof document},forEach:c,merge:function e(){var t={};function r(r,s){l(t[s])&&l(r)?t[s]=e(t[s],r):l(r)?t[s]=e({},r):n(r)?t[s]=r.slice():t[s]=r}for(var s=0,a=arguments.length;s<a;s++)c(arguments[s],r);return t},extend:function(e,t,r){return c(t,function(t,a){r&&"function"==typeof t?e[a]=s(t,r):e[a]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},82943,(e,t,r)=>{"use strict";var s=e.r(83023);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,r){if(!t)return e;if(r)n=r(t);else if(s.isURLSearchParams(t))n=t.toString();else{var n,i=[];s.forEach(t,function(e,t){null!=e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))}))}),n=i.join("&")}if(n){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},82430,(e,t,r)=>{"use strict";var s=e.r(83023);function a(){this.handlers=[]}a.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){s.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=a},66288,(e,t,r)=>{"use strict";var s=e.r(83023);t.exports=function(e,t){s.forEach(e,function(r,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[s])})}},25976,(e,t,r)=>{"use strict";t.exports=function(e,t,r,s,a){return e.config=t,r&&(e.code=r),e.request=s,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},94526,(e,t,r)=>{"use strict";var s=e.r(25976);t.exports=function(e,t,r,a,n){return s(Error(e),t,r,a,n)}},32862,(e,t,r)=>{"use strict";var s=e.r(94526);t.exports=function(e,t,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(s("Request failed with status code "+r.status,r.config,null,r.request,r))}},1151,(e,t,r)=>{"use strict";var s=e.r(83023);t.exports=s.isStandardBrowserEnv()?{write:function(e,t,r,a,n,i){var o=[];o.push(e+"="+encodeURIComponent(t)),s.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),s.isString(a)&&o.push("path="+a),s.isString(n)&&o.push("domain="+n),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4622,(e,t,r)=>{"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},50482,(e,t,r)=>{"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},54280,(e,t,r)=>{"use strict";var s=e.r(4622),a=e.r(50482);t.exports=function(e,t){return e&&!s(t)?a(e,t):t}},6405,(e,t,r)=>{"use strict";var s=e.r(83023),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,r,n,i={};return e&&s.forEach(e.split("\n"),function(e){n=e.indexOf(":"),t=s.trim(e.substr(0,n)).toLowerCase(),r=s.trim(e.substr(n+1)),t&&(i[t]&&a.indexOf(t)>=0||("set-cookie"===t?i[t]=(i[t]?i[t]:[]).concat([r]):i[t]=i[t]?i[t]+", "+r:r))}),i}},93457,(e,t,r)=>{"use strict";var s=e.r(83023);t.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var s=e;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=s.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},79540,(e,t,r)=>{"use strict";var s=e.r(83023),a=e.r(32862),n=e.r(1151),i=e.r(82943),o=e.r(54280),l=e.r(6405),d=e.r(93457),c=e.r(94526);t.exports=function(e){return new Promise(function(t,r){var u=e.data,h=e.headers,p=e.responseType;s.isFormData(u)&&delete h["Content-Type"];var m=new XMLHttpRequest;e.auth&&(h.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password?unescape(encodeURIComponent(e.auth.password)):"")));var x=o(e.baseURL,e.url);function f(){if(m){var s="getAllResponseHeaders"in m?l(m.getAllResponseHeaders()):null;a(t,r,{data:p&&"text"!==p&&"json"!==p?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:s,config:e,request:m}),m=null}}if(m.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=f:m.onreadystatechange=function(){!m||4!==m.readyState||(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(f)},m.onabort=function(){m&&(r(c("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){r(c("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},s.isStandardBrowserEnv()){var g=(e.withCredentials||d(x))&&e.xsrfCookieName?n.read(e.xsrfCookieName):void 0;g&&(h[e.xsrfHeaderName]=g)}"setRequestHeader"in m&&s.forEach(h,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete h[t]:m.setRequestHeader(t,e)}),s.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),p&&"json"!==p&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){m&&(m.abort(),r(e),m=null)}),u||(u=null),m.send(u)})}},78501,(e,t,r)=>{"use strict";var s,a=e.i(47167),n=e.r(83023),i=e.r(66288),o=e.r(25976),l={"Content-Type":"application/x-www-form-urlencoded"};function d(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("u">typeof XMLHttpRequest?s=e.r(79540):void 0!==a.default&&"[object process]"===Object.prototype.toString.call(a.default)&&(s=e.r(79540)),s),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return d(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(n.isObject(e)||t&&"application/json"===t["Content-Type"]){d(t,"application/json");if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}return e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||s&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){c.headers[e]={}}),n.forEach(["post","put","patch"],function(e){c.headers[e]=n.merge(l)}),t.exports=c},65672,(e,t,r)=>{"use strict";var s=e.r(83023),a=e.r(78501);t.exports=function(e,t,r){var n=this||a;return s.forEach(r,function(r){e=r.call(n,e,t)}),e}},12214,(e,t,r)=>{"use strict";var s=e.r(83023),a=e.r(65672),n=e.r(29852),i=e.r(78501);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return o(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),s.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return o(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!n(t)&&(o(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},78366,(e,t,r)=>{"use strict";var s=e.r(83023);t.exports=function(e,t){t=t||{};var r={},a=["url","method","data"],n=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(e,t){return s.isPlainObject(e)&&s.isPlainObject(t)?s.merge(e,t):s.isPlainObject(t)?s.merge({},t):s.isArray(t)?t.slice():t}function d(a){s.isUndefined(t[a])?s.isUndefined(e[a])||(r[a]=l(void 0,e[a])):r[a]=l(e[a],t[a])}s.forEach(a,function(e){s.isUndefined(t[e])||(r[e]=l(void 0,t[e]))}),s.forEach(n,d),s.forEach(i,function(a){s.isUndefined(t[a])?s.isUndefined(e[a])||(r[a]=l(void 0,e[a])):r[a]=l(void 0,t[a])}),s.forEach(o,function(s){s in t?r[s]=l(e[s],t[s]):s in e&&(r[s]=l(void 0,e[s]))});var c=a.concat(n).concat(i).concat(o),u=Object.keys(e).concat(Object.keys(t)).filter(function(e){return -1===c.indexOf(e)});return s.forEach(u,d),r}},63102,(e,t,r)=>{"use strict";var s=e.r(49149),a={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){a[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var n={},i=s.version.split(".");function o(e,t){for(var r=t?t.split("."):i,s=e.split("."),a=0;a<3;a++)if(r[a]>s[a])return!0;else if(r[a]<s[a])break;return!1}a.transitional=function(e,t,r){var a=t&&o(t);function i(e,t){return"[Axios v"+s.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,s,o){if(!1===e)throw Error(i(s," has been removed in "+t));return a&&!n[s]&&(n[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,o)}},t.exports={isOlderVersion:o,assertOptions:function(e,t,r){if("object"!=typeof e)throw TypeError("options must be an object");for(var s=Object.keys(e),a=s.length;a-- >0;){var n=s[a],i=t[n];if(i){var o=e[n],l=void 0===o||i(o,n,e);if(!0!==l)throw TypeError("option "+n+" must be "+l);continue}if(!0!==r)throw Error("Unknown option "+n)}},validators:a}},50985,(e,t,r)=>{"use strict";var s=e.r(83023),a=e.r(82943),n=e.r(82430),i=e.r(12214),o=e.r(78366),l=e.r(63102),d=l.validators;function c(e){this.defaults=e,this.interceptors={request:new n,response:new n}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,r=e.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:d.transitional(d.boolean,"1.0.0"),forcedJSONParsing:d.transitional(d.boolean,"1.0.0"),clarifyTimeoutError:d.transitional(d.boolean,"1.0.0")},!1);var s=[],a=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))});var n=[];if(this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)}),!a){var c=[i,void 0];for(Array.prototype.unshift.apply(c,s),c=c.concat(n),t=Promise.resolve(e);c.length;)t=t.then(c.shift(),c.shift());return t}for(var u=e;s.length;){var h=s.shift(),p=s.shift();try{u=h(u)}catch(e){p(e);break}}try{t=i(u)}catch(e){return Promise.reject(e)}for(;n.length;)t=t.then(n.shift(),n.shift());return t},c.prototype.getUri=function(e){return a((e=o(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},s.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}}),s.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,r,s){return this.request(o(s||{},{method:e,url:t,data:r}))}}),t.exports=c},81949,(e,t,r)=>{"use strict";var s=e.r(83023),a=e.r(9925),n=e.r(50985),i=e.r(78366);function o(e){var t=new n(e),r=a(n.prototype.request,t);return s.extend(r,n.prototype,t),s.extend(r,t),r}var l=o(e.r(78501));l.Axios=n,l.create=function(e){return o(i(l.defaults,e))},l.Cancel=e.r(87240),l.CancelToken=e.r(17627),l.isCancel=e.r(29852),l.all=function(e){return Promise.all(e)},l.spread=e.r(45329),l.isAxiosError=e.r(98703),t.exports=l,t.exports.default=l},39408,(e,t,r)=>{t.exports=e.r(81949)},52683,e=>{"use strict";let t;var r,s=e.i(43476),a=e.i(71645);let n=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,n={setState:s,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(s,a,n);return n},i=e=>{let t=e?n(e):n,r=e=>(function(e,t=e=>e){let r=a.default.useSyncExternalStore(e.subscribe,a.default.useCallback(()=>t(e.getState()),[e,t]),a.default.useCallback(()=>t(e.getInitialState()),[e,t]));return a.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},o=e.i(39408).default.create({baseURL:"https://conanshin-server.azurewebsites.net/cards-organizer/"}),l=e=>({id:e.id,name:e.name,holder:e.holder,depositBank:e.deposit_bank,annualFee:e.annual_fee,monthlyUsage:e.monthly_usage,automaticDebit:e.debits||[],period:{start:new Date(e.period_start),end:new Date(e.period_end)},status:e.status,selected:!1}),d=e=>{let t=e=>e.toISOString().split("T")[0];return{id:e.id,name:e.name,holder:e.holder,deposit_bank:e.depositBank,annual_fee:e.annualFee,monthly_usage:e.monthlyUsage,debits:e.automaticDebit,period_start:t(e.period.start),period_end:t(e.period.end),status:e.status}},c=async()=>(await o.get("")).data.filter(e=>"y"!==e.deleted).map(l),u=async e=>{let t=d(e);return(await o.post("",t)).data.id},h=async e=>{if(!e.id)throw Error("Card ID is required for update");let t=d(e);await o.put(`${e.id}`,t)},p=async e=>{await o.delete(`${e}`)},m=(t=(e,t)=>({cards:[],selectedCard:null,isLoading:!1,error:null,dialog:{isOpen:!1,title:"",message:"",type:"alert"},setCards:t=>e({cards:t}),selectCard:t=>e({selectedCard:t}),resetSelection:()=>e({selectedCard:null}),showDialog:t=>e({dialog:{...t,isOpen:!0}}),hideDialog:()=>e(e=>({dialog:{...e.dialog,isOpen:!1}})),addLocalCard:t=>e(e=>({cards:[...e.cards,t],selectedCard:t})),loadCards:async()=>{e({isLoading:!0,error:null});try{let t=await c();e({cards:t,isLoading:!1})}catch(t){console.error("Failed to load cards:",t),e({isLoading:!1,error:"Failed to load cards"})}},saveCard:async r=>{e({isLoading:!0,error:null});try{r.isNew?await u(r):r.id?await h(r):await u(r),await t().loadCards(),e({selectedCard:null}),t().showDialog({title:"저장 완료",message:`${r.name||"카드"}가 성공적으로 저장되었습니다.`,type:"alert"})}catch(r){console.error("Failed to save card:",r),e({isLoading:!1,error:"Failed to save card"}),t().showDialog({title:"저장 실패",message:"카드 정보를 저장하는 중 오류가 발생했습니다.",type:"alert"})}},removeCard:async r=>{e({isLoading:!0,error:null});try{let s=t().cards.find(e=>e.id===r);if(s&&s.isNew){let s=t().cards.filter(e=>e.id!==r);e({cards:s,selectedCard:null,isLoading:!1});return}await p(r),await t().loadCards(),e({selectedCard:null}),t().showDialog({title:"삭제 완료",message:"카드가 성공적으로 삭제되었습니다.",type:"alert"})}catch(r){console.error("Failed to delete card:",r),e({isLoading:!1,error:"Failed to delete card"}),t().showDialog({title:"삭제 실패",message:"카드를 삭제하는 중 오류가 발생했습니다.",type:"alert"})}}}))?i(t):i;var x=((r={}).USING="using",r.KEEPING="keeping",r.TERMINATED="terminated",r);let f=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},g=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let y=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:o,...l},d)=>(0,a.createElement)("svg",{ref:d,...b,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:g("lucide",n),...!i&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(l)&&{"aria-hidden":"true"},...l},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),v=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...s},n)=>(0,a.createElement)(y,{ref:n,iconNode:t,className:g(`lucide-${f(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...s}));return r.displayName=f(e),r},w=v("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),j=v("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),N=v("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k=v("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),E=()=>{let e=m(e=>e.cards),t=m(e=>e.selectCard),r=m(e=>e.selectedCard),n=m(e=>e.addLocalCard),[i,o]=(0,a.useState)(!1),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)([]),[h,p]=(0,a.useState)(""),[f,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>g(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let b=t=>{let r=e.filter(e=>e.holder===t);return i?r:r.filter(e=>e.status!==x.TERMINATED)},y=b("conan"),v=b("chaeji"),E=e=>({[x.USING]:"사용중",[x.KEEPING]:"보관중",[x.TERMINATED]:"해지됨"})[e]||e,C=e=>e.split(" ")[0]||"",D=e=>e?new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"",S=e=>{let t="relative aspect-[1.586] p-3 sm:p-4 rounded-xl flex flex-col justify-between cursor-pointer border transition-all duration-300 group hover:-translate-y-1 hover:shadow-xl overflow-hidden";return"conan"===e.holder?t+=" bg-gradient-to-br from-slate-800/80 to-slate-900/90 border-white/5 hover:border-indigo-400/30":t+=" bg-gradient-to-br from-rose-900/30 to-rose-950/50 border-white/5 hover:border-rose-400/30",e.status===x.TERMINATED?t+=" opacity-60 grayscale-[0.8] hover:opacity-90 hover:grayscale-[0.2] border-dashed":e.status===x.KEEPING&&(t+=" border-amber-500/20"),(r&&r.id===e.id||r===e)&&(t+=" ring-2 ring-indigo-500 shadow-[0_0_30px_-5px_rgba(99,102,241,0.4)] z-10 scale-[1.02] bg-slate-800"),t},T=()=>{if(!l.trim()){p("검색어를 입력해주세요."),u([]);return}let t=l.trim(),r=e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()));if(0===r.length){p(`'${t}'에 대한 검색 결과가 없습니다.`),u([]);return}let s=new Map;r.forEach(e=>{s.has(e.holder)||s.set(e.holder,[]),s.get(e.holder).push(e)}),u(Array.from(s.entries()).map(([e,t])=>{let r=t.filter(e=>e.status===x.TERMINATED),s=t.filter(e=>e.status===x.USING||e.status===x.KEEPING),a=null;return(s.length>0?a=s.reduce((e,t)=>{let r=new Date(e.period.end);return new Date(t.period.end)>r?t:e}):r.length>0&&(a=r.reduce((e,t)=>{let r=new Date(e.period.end);return new Date(t.period.end)>r?t:e})),a)?{user:e,results:[{company:C(a.name),cardName:a.name,user:a.holder,status:a.status,terminationDate:a.status===x.TERMINATED?a.period.end.toString():void 0,endDate:a.status!==x.TERMINATED?a.period.end.toString():void 0}]}:null}).filter(e=>null!==e)),p("")};return(0,s.jsxs)("div",{className:"h-full flex flex-col bg-white/5 lg:bg-transparent",children:[(0,s.jsxs)("div",{className:"p-5 border-b border-white/5 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-white/90 flex items-center gap-2",children:[(0,s.jsx)(k,{size:18,className:"text-indigo-400"}),"카드 보유 현황"]}),!f&&(0,s.jsx)("button",{onClick:()=>{n({id:Date.now().toString(),name:"",depositBank:"",annualFee:"",monthlyUsage:"",automaticDebit:[],period:{start:new Date,end:new Date},status:x.USING,holder:"conan",selected:!0,isNew:!0})},className:"p-2 rounded-lg bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20 hover:text-indigo-300 transition-colors",title:"새 카드 추가",children:(0,s.jsx)(j,{size:18})})]}),(0,s.jsxs)("div",{className:"relative z-50",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(w,{size:16,className:"text-gray-500 group-focus-within:text-indigo-400 transition-colors"})}),(0,s.jsx)("input",{value:l,onChange:e=>d(e.target.value),className:"block w-full pl-10 pr-10 py-2.5 bg-black/20 border border-white/10 rounded-xl text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all",placeholder:"카드사 검색 (예: 삼성, 신한)",onKeyDown:e=>"Enter"===e.key&&T()}),(0,s.jsx)("button",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-white cursor-pointer",onClick:T,children:(0,s.jsx)("div",{className:"bg-white/10 p-1 rounded-md",children:(0,s.jsx)("span",{className:"text-[10px] font-bold",children:"↵"})})})]}),(c.length>0||h)&&(0,s.jsxs)("div",{className:"absolute top-[calc(100%+8px)] left-0 right-0 bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl backdrop-blur-xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5 bg-white/5",children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-indigo-400 uppercase tracking-wider",children:h?"알림":"검색 결과"}),(0,s.jsx)("button",{onClick:()=>{u([]),p(""),d("")},className:"text-gray-500 hover:text-white transition-colors",children:(0,s.jsx)(N,{size:14})})]}),(0,s.jsx)("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar p-2",children:h?(0,s.jsx)("div",{className:"py-6 text-center text-gray-400 text-sm",children:h}):c.map(e=>(0,s.jsxs)("div",{className:"mb-3 last:mb-0",children:[(0,s.jsx)("div",{className:"px-2 py-1.5 text-xs font-medium text-gray-500 uppercase tracking-widest pl-3",children:e.user}),e.results.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-colors cursor-default border border-white/5",children:[(0,s.jsx)("div",{className:"font-medium text-gray-200 text-sm mb-1",children:e.cardName}),(0,s.jsx)("div",{className:"text-xs flex items-center gap-2",children:"terminated"===e.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-red-500/10 text-red-400",children:"해지됨"}),(0,s.jsxs)("span",{className:"text-gray-500",children:[D(e.terminationDate)," (",(e=>{if(!e)return 0;let t=new Date,r=new Date(e);return Math.floor((t.getTime()-r.getTime())/864e5)})(e.terminationDate),"일 전)"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-green-500/10 text-green-400",children:"사용중"}),(0,s.jsxs)("span",{className:"text-gray-500",children:["~ ",D(e.endDate)]})]})})]},t))]},e.user))})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("label",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg border border-white/5 cursor-pointer hover:bg-white/10 transition-colors select-none group",children:[(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:e=>o(e.target.checked),className:"peer sr-only"}),(0,s.jsx)("div",{className:"w-9 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]}),(0,s.jsx)("span",{className:"text-xs text-gray-400 group-hover:text-gray-300 font-medium",children:"해지된 카드 보기"})]})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-5 pb-20 sm:pb-5 custom-scrollbar space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest pl-1 border-l-2 border-indigo-500",children:"Conan"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:y.map((e,r)=>(0,s.jsxs)("div",{className:S(e),onClick:()=>t(e),children:[(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"text-[8px] sm:text-[10px] text-white/50 mb-0.5 sm:mb-1 uppercase tracking-wider",children:C(e.name)}),(0,s.jsx)("div",{className:"font-bold text-white leading-tight text-[10px] sm:text-sm line-clamp-2",children:e.name||"무명 카드"})]}),(0,s.jsxs)("div",{className:"mt-2 flex justify-between items-end relative z-10",children:[(0,s.jsx)("div",{className:`
                                        text-[8px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 rounded-full backdrop-blur-md
                                        ${e.status===x.USING?"bg-green-500/20 text-green-300":""}
                                        ${e.status===x.KEEPING?"bg-amber-500/20 text-amber-300":""}
                                        ${e.status===x.TERMINATED?"bg-red-500/20 text-red-300":""}
                                    `,children:E(e.status)}),(0,s.jsx)("div",{className:"w-6 h-4 rounded bg-gradient-to-br from-yellow-200/20 to-yellow-500/20 border border-yellow-200/30 opacity-50"})]}),(0,s.jsx)("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 bg-white/5 rounded-full blur-2xl pointer-events-none"})]},`conan-${r}`))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest pl-1 border-l-2 border-rose-500",children:"Chaeji"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:v.map((e,r)=>(0,s.jsxs)("div",{className:S(e),onClick:()=>t(e),children:[(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"text-[8px] sm:text-[10px] text-white/50 mb-0.5 sm:mb-1 uppercase tracking-wider",children:C(e.name)}),(0,s.jsx)("div",{className:"font-bold text-white leading-tight text-[10px] sm:text-sm line-clamp-2",children:e.name||"무명 카드"})]}),(0,s.jsxs)("div",{className:"mt-2 flex justify-between items-end relative z-10",children:[(0,s.jsx)("div",{className:`
                                        text-[8px] sm:text-[10px] px-1.5 sm:px-2 py-0.5 rounded-full backdrop-blur-md
                                        ${e.status===x.USING?"bg-green-500/20 text-green-300":""}
                                        ${e.status===x.KEEPING?"bg-amber-500/20 text-amber-300":""}
                                        ${e.status===x.TERMINATED?"bg-red-500/20 text-red-300":""}
                                    `,children:E(e.status)}),(0,s.jsx)("div",{className:"w-6 h-4 rounded bg-gradient-to-br from-yellow-200/20 to-yellow-500/20 border border-yellow-200/30 opacity-50"})]}),(0,s.jsx)("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 bg-white/5 rounded-full blur-2xl pointer-events-none"})]},`chaeji-${r}`))})]})]})]})},C=({card:e,year:t,rowIndex:r,style:a})=>{let n,i,o,l,d,c,u=m(e=>e.selectCard),h=new Date(e.period.start),p=new Date(e.period.end);if(n=h.getFullYear(),i=p.getFullYear(),!(t>=n)||!(t<=i))return null;let f=h.getFullYear()===t,g=p.getFullYear()===t;f&&h.getDate().toString(),g&&p.getDate().toString();let b=e=>e%4==0&&e%100!=0||e%400==0,y=(o=new Date(t,0,1),l=b(t)?366:365,h.getFullYear()<t?0:Math.max(Math.floor((h.getTime()-o.getTime())/864e5)/l*100,0)),v=(d=new Date(t,0,1),c=b(t)?366:365,p.getFullYear()>t?100:Math.min(Math.floor((p.getTime()-d.getTime())/864e5)/c*100,100)),w={left:`${y}%`,width:`${v-y}%`,...a},j="";j="conan"===e.holder?"bg-gradient-to-r from-indigo-500 to-blue-600 shadow-indigo-500/20":"bg-gradient-to-r from-rose-500 to-pink-600 shadow-rose-500/20";let N="opacity-100",k="";return e.status===x.USING?N="":e.status===x.KEEPING?(j="bg-amber-500/80",N="opacity-90"):e.status===x.TERMINATED&&(j="bg-gray-600",N="opacity-50 grayscale",k="opacity-60"),(0,s.jsxs)("div",{className:`absolute h-6 flex items-center group cursor-pointer transition-all duration-200 hover:z-20 hover:scale-y-110 ${k}`,style:w,onClick:()=>u(e),children:[(0,s.jsxs)("div",{className:`
                relative w-full h-3 rounded-full shadow-lg ${j} ${N}
                group-hover:h-4 transition-all duration-200
            `,children:[(0,s.jsx)("div",{className:"absolute inset-0 flexjustify-between items-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 px-1"}),f&&(0,s.jsxs)("span",{className:"absolute -left-2 -top-5 text-[10px] bg-black/80 text-white px-1.5 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-30 pointer-events-none",children:[h.getMonth()+1,"/",h.getDate()]}),g&&(0,s.jsxs)("span",{className:"absolute -right-2 -top-5 text-[10px] bg-black/80 text-white px-1.5 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-30 pointer-events-none",children:[p.getMonth()+1,"/",p.getDate()]})]}),(0,s.jsx)("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-full overflow-hidden pointer-events-none pr-6",children:(0,s.jsx)("div",{className:"text-[10px] font-bold text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] truncate",children:e.name})})]})},D=v("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),S=v("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),T=v("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),R=()=>{let e,t,r=m(e=>e.cards),[n,i]=(0,a.useState)(new Date().getFullYear()),[o,l]=(0,a.useState)(!1),d=new Date().getFullYear()+5;(0,a.useEffect)(()=>{let e=()=>l(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=r.filter(e=>{let t=new Date(e.period.start).getFullYear(),r=new Date(e.period.end).getFullYear();return n>=t&&n<=r}).sort((e,t)=>e.status===x.TERMINATED&&t.status!==x.TERMINATED?1:e.status!==x.TERMINATED&&t.status===x.TERMINATED?-1:e.holder!==t.holder?"conan"===e.holder?-1:1:new Date(e.period.start).getTime()-new Date(t.period.start).getTime()),u=(e=0,c.forEach((t,r)=>{(0===r||c[r-1].holder!==t.holder)&&(e+=30),e+=26}),`${Math.max(e+100,400)}px`);return(0,s.jsx)("div",{className:"h-full flex flex-col bg-white/5 lg:bg-transparent",children:(0,s.jsxs)("section",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsxs)("header",{className:"px-6 py-5 border-b border-white/5 flex items-center justify-between bg-black/20 backdrop-blur-sm",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-white/90 flex items-center gap-2",children:[(0,s.jsx)(T,{size:18,className:"text-indigo-400"}),"카드 보유 기간"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 bg-black/40 rounded-xl p-1 border border-white/5",children:[(0,s.jsx)("button",{className:"p-1.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/10 transition-colors disabled:opacity-30 disabled:hover:bg-transparent",onClick:()=>{n>2020&&i(e=>e-1)},disabled:n<=2020,children:(0,s.jsx)(D,{size:18})}),(0,s.jsx)("span",{className:"text-sm font-bold text-white min-w-[3rem] text-center",children:n}),(0,s.jsx)("button",{className:"p-1.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/10 transition-colors disabled:opacity-30 disabled:hover:bg-transparent",onClick:()=>{n<d&&i(e=>e+1)},disabled:n>=d,children:(0,s.jsx)(S,{size:18})})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[o&&(0,s.jsxs)("div",{className:"px-6 py-2 bg-indigo-500/5 flex items-center justify-center gap-2 border-b border-white/5 animate-pulse",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400"}),(0,s.jsx)("span",{className:"text-[10px] text-indigo-300 font-medium uppercase tracking-widest",children:"좌우로 스크롤하여 타임라인을 확인하세요"}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400"})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto custom-scrollbar relative bg-gradient-to-br from-transparent to-black/20 pb-20 sm:pb-0",children:[(0,s.jsx)("div",{className:"grid grid-cols-12 border-b border-white/5 bg-black/40 backdrop-blur-md sticky top-0 z-20 min-w-[800px]",children:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"].map((e,t)=>(0,s.jsx)("div",{className:"py-3 text-[10px] sm:text-xs text-center font-medium text-gray-500 border-r last:border-r-0 border-white/5",children:e},t))}),(0,s.jsxs)("div",{className:"relative min-w-[800px]",style:{height:u},children:[(0,s.jsx)("div",{className:"absolute inset-0 grid grid-cols-12 pointer-events-none h-full z-0",children:Array.from({length:12}).map((e,t)=>(0,s.jsx)("div",{className:"h-full border-r last:border-r-0 border-white/5"},t))}),(0,s.jsx)("div",{className:"relative z-10 w-full h-full",children:(t=0,c.map((e,r)=>{let i=0===r||c[r-1].holder!==e.holder,o=null;i&&(o=(0,s.jsx)("div",{className:`
                                                    absolute left-0 right-0 h-[30px] flex items-center px-4 border-b border-white/5
                                                    ${"conan"===e.holder?"bg-indigo-900/10 text-indigo-300":"bg-rose-900/10 text-rose-300"}
                                                `,style:{top:`${t}px`},children:(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"conan"===e.holder?"Conan":"Chaeji"})},`divider-${e.holder}-${r}`),t+=30);let l=(0,s.jsx)(C,{card:e,year:n,rowIndex:r,style:{top:`${t}px`}},`${e.id||r}-${n}`);return t+=26,(0,s.jsxs)(a.default.Fragment,{children:[o,l]},`wrapper-${e.id||r}`)}))})]})]})]})]})})},z=v("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),A=v("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),O=v("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),M=()=>{let e=m(e=>e.selectedCard),t=m(e=>e.saveCard),r=m(e=>e.removeCard),n=m(e=>e.showDialog),[i,o]=(0,a.useState)(null);if((0,a.useEffect)(()=>{e?o(JSON.parse(JSON.stringify(e))):o(null)},[e]),!i)return null;let l=!!(i.name?.trim()&&i.holder&&i.period?.start&&i.period?.end),d=e=>{let{name:t,value:r}=e.target;o(e=>e?{...e,[t]:r}:null)},c=e=>{let{name:t,value:r}=e.target;o(e=>e?{...e,period:{...e.period,[t]:r}}:null)},u=e=>{if(!e)return"";let t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]},h=(e,t,r)=>{o(s=>{if(!s)return null;let a=[...s.automaticDebit||[]];return a[e]={...a[e],[t]:r},{...s,automaticDebit:a}})},p=async()=>{if(!i||!l)return;let e=i.name||"새 카드";n({title:"카드 저장",message:`${e}을(를) 저장하시겠습니까?`,type:"confirm",onConfirm:async()=>{let e={...i,period:{start:new Date(i.period.start),end:new Date(i.period.end)}};await t(e)}})},f=async()=>{if(!i.id)return;let e=i.name||"카드";n({title:"카드 삭제",message:`${e}을(를) 삭제하시겠습니까?
이 작업은 되돌릴 수 없습니다.`,type:"confirm",onConfirm:async()=>{await r(i.id)}})};return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-[#18181b]",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-5 sm:p-6 space-y-8 custom-scrollbar",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-white/5",children:[(0,s.jsx)(k,{size:16,className:"text-indigo-400"}),(0,s.jsx)("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"기본 정보"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,s.jsxs)("div",{className:"space-y-1.5 col-span-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"카드 이름"}),(0,s.jsx)("input",{name:"name",value:i.name,onChange:d,className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all",placeholder:"카드 이름을 입력하세요"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"사용자"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{name:"holder",value:i.holder,onChange:d,className:"w-full appearance-none bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all cursor-pointer",children:[(0,s.jsx)("option",{value:"conan",children:"Conan"}),(0,s.jsx)("option",{value:"chaeji",children:"Chaeji"})]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-gray-500",children:(0,s.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"})})})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"카드 상태"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{name:"status",value:i.status,onChange:d,className:"w-full appearance-none bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all cursor-pointer",children:[(0,s.jsx)("option",{value:x.USING,children:"사용중"}),(0,s.jsx)("option",{value:x.KEEPING,children:"보관중"}),(0,s.jsx)("option",{value:x.TERMINATED,children:"해지됨"})]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-gray-500",children:(0,s.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"})})})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"결제 은행"}),(0,s.jsx)("input",{name:"depositBank",value:i.depositBank,onChange:d,className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all",placeholder:"예: 신한은행"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"연회비"}),(0,s.jsx)("input",{name:"annualFee",value:i.annualFee,onChange:d,inputMode:"numeric",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all",placeholder:"0"})]}),(0,s.jsxs)("div",{className:"space-y-1.5 col-span-2 md:col-span-1",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"월 사용금액"}),(0,s.jsx)("input",{name:"monthlyUsage",value:i.monthlyUsage,onChange:d,inputMode:"numeric",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all",placeholder:"0"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-white/5",children:[(0,s.jsx)(T,{size:16,className:"text-indigo-400"}),(0,s.jsx)("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"사용 기간"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"시작일"}),(0,s.jsx)("input",{type:"date",name:"start",value:u(i.period.start),onChange:c,className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all [color-scheme:dark]"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 ml-1",children:"종료일"}),(0,s.jsx)("input",{type:"date",name:"end",value:u(i.period.end),onChange:c,className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent transition-all [color-scheme:dark]"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between pb-2 border-b border-white/5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(O,{size:16,className:"text-indigo-400"}),(0,s.jsx)("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"자동 결제"})]}),(0,s.jsxs)("button",{type:"button",className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20 text-xs font-medium transition-colors",onClick:()=>{o(e=>e?{...e,automaticDebit:[...e.automaticDebit||[],{name:"",cost:""}]}:null)},children:[(0,s.jsx)(j,{size:12}),"추가"]})]}),i.automaticDebit&&i.automaticDebit.length>0?(0,s.jsx)("div",{className:"space-y-3",children:i.automaticDebit.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3 bg-white/5 p-3 rounded-xl border border-white/5 group hover:border-white/10 transition-colors",children:[(0,s.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-[10px] font-semibold text-gray-500 ml-1",children:"내용"}),(0,s.jsx)("input",{value:e.name,onChange:e=>h(t,"name",e.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent",placeholder:"결제 내용"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-[10px] font-semibold text-gray-500 ml-1",children:"금액"}),(0,s.jsx)("input",{value:e.cost,onChange:e=>h(t,"cost",e.target.value),inputMode:"numeric",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-transparent",placeholder:"0"})]})]}),(0,s.jsx)("button",{type:"button",className:"mt-6 p-2 text-gray-500 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",onClick:()=>{o(e=>{if(!e)return null;let r=[...e.automaticDebit||[]];return r.splice(t,1),{...e,automaticDebit:r}})},children:(0,s.jsx)(N,{size:16})})]},t))}):(0,s.jsx)("div",{className:"py-8 border border-dashed border-white/10 rounded-xl flex flex-col items-center justify-center text-gray-500 text-sm",children:(0,s.jsx)("p",{children:"등록된 자동 결제가 없습니다."})})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-white/5 bg-black/20 backdrop-blur-sm flex items-center justify-between gap-4",children:[(0,s.jsxs)("button",{type:"button",className:"flex items-center gap-2 px-4 py-3 rounded-xl text-red-400 hover:bg-red-400/10 text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:f,disabled:!i.id,children:[(0,s.jsx)(A,{size:18}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"삭제"})]}),(0,s.jsx)("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:(0,s.jsxs)("button",{type:"button",className:`
                            flex-1 sm:flex-none flex items-center justify-center gap-2 px-8 py-3 rounded-xl 
                            text-sm font-bold text-white shadow-lg shadow-indigo-500/20
                            transition-all duration-200
                            ${l?"bg-indigo-600 hover:bg-indigo-500 hover:scale-[1.02] cursor-pointer":"bg-gray-700 cursor-not-allowed opacity-50"}
                        `,onClick:p,disabled:!l,children:[(0,s.jsx)(z,{size:18}),"저장"]})})]})]})},L=v("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),U=v("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),I=()=>{let e=m(e=>e.dialog),t=m(e=>e.hideDialog);return e.isOpen?(0,s.jsx)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:t,children:(0,s.jsxs)("div",{className:"w-full max-w-sm bg-[#1c1c1e] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 ring-1 ring-white/10",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-6 pt-6 pb-2 flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-4 ${"confirm"===e.type?"bg-indigo-500/10 text-indigo-400":"bg-amber-500/10 text-amber-400"}`,children:"confirm"===e.type?(0,s.jsx)(U,{size:28}):(0,s.jsx)(L,{size:28})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white tracking-tight",children:e.title}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-400 leading-relaxed whitespace-pre-wrap",children:e.message})]}),(0,s.jsxs)("div",{className:"p-6 flex flex-col sm:flex-row gap-2",children:["confirm"===e.type&&(0,s.jsx)("button",{className:"flex-1 px-4 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 text-gray-300 text-sm font-medium transition-all",onClick:t,children:"취소"}),(0,s.jsx)("button",{className:`flex-1 px-4 py-2.5 rounded-xl text-white text-sm font-bold shadow-lg transition-all active:scale-95 ${(e.type,"bg-indigo-600 hover:bg-indigo-500 shadow-indigo-500/20")}`,onClick:()=>{e.onConfirm&&e.onConfirm(),t()},children:"confirm"===e.type?"확인":"닫기"})]})]})}):null};function P(){let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)("calendar"),i=m(e=>e.loadCards),o=m(e=>e.selectedCard),l=m(e=>e.resetSelection);return(0,a.useEffect)(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[o]),(0,a.useEffect)(()=>{i()},[i]),(0,a.useEffect)(()=>{let e=()=>{t(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex flex-col font-sans selection:bg-indigo-500/30",children:[(0,s.jsxs)("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-500/10 rounded-full blur-[120px]"}),(0,s.jsx)("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[120px]"})]}),(0,s.jsxs)("header",{className:"relative z-10 px-6 py-4 sm:py-5 border-b border-white/5 flex items-center justify-between backdrop-blur-md bg-black/20 sticky top-0",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-3xl font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Cards Organizer"}),!e&&(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1 font-light tracking-wide",children:"신용카드 혜택 관리의 새로운 기준"})]}),e?(0,s.jsx)("div",{className:"text-[10px] text-gray-500 font-mono bg-white/5 px-2 py-1 rounded-md border border-white/5",children:"v2.0"}):(0,s.jsx)("div",{className:"text-xs text-gray-500 font-mono",children:"v2.0 Premium"})]}),(0,s.jsx)("main",{className:"relative z-10 flex-1 overflow-hidden pb-[70px] sm:pb-0",children:(0,s.jsxs)("div",{className:"h-full max-w-[1920px] mx-auto p-0 lg:p-6 lg:gap-6 lg:grid lg:grid-cols-12 flex flex-col",children:[(0,s.jsx)("div",{className:`
                        lg:col-span-3 lg:h-full lg:block
                        ${e&&"calendar"===r?"hidden":"block h-full"}
                        transition-all duration-300
                    `,children:(0,s.jsx)("div",{className:"h-full bg-neutral-900/50 lg:bg-[#121212] lg:border border-white/5 lg:rounded-3xl overflow-hidden backdrop-blur-sm shadow-2xl ring-1 ring-white/5",children:(0,s.jsx)(E,{})})}),(0,s.jsx)("div",{className:`
                        lg:col-span-9 lg:h-full lg:block
                        ${e&&"holdings"===r?"hidden":"block h-full"}
                        transition-all duration-300
                    `,children:(0,s.jsx)("div",{className:"h-full bg-neutral-900/50 lg:bg-[#121212] lg:border border-white/5 lg:rounded-3xl overflow-hidden backdrop-blur-sm shadow-2xl ring-1 ring-white/5 relative",children:(0,s.jsx)(R,{})})})]})}),e&&(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#121214]/90 backdrop-blur-xl border-t border-white/10 safe-area-bottom",children:(0,s.jsxs)("div",{className:"flex items-center justify-around h-16",children:[(0,s.jsxs)("button",{className:`flex flex-col items-center justify-center w-full gap-1 transition-colors duration-300 ${"holdings"===r?"text-indigo-400":"text-gray-500"}`,onClick:()=>n("holdings"),children:[(0,s.jsx)(k,{size:20,className:"holdings"===r?"scale-110":""}),(0,s.jsx)("span",{className:"text-[10px] font-medium",children:"My Cards"})]}),(0,s.jsxs)("button",{className:`flex flex-col items-center justify-center w-full gap-1 transition-colors duration-300 ${"calendar"===r?"text-indigo-400":"text-gray-500"}`,onClick:()=>n("calendar"),children:[(0,s.jsx)(T,{size:20,className:"calendar"===r?"scale-110":""}),(0,s.jsx)("span",{className:"text-[10px] font-medium",children:"Timeline"})]})]})}),e&&"holdings"===r&&(0,s.jsx)("button",{onClick:()=>{let e={id:Date.now().toString(),name:"",depositBank:"",annualFee:"",monthlyUsage:"",automaticDebit:[],period:{start:new Date,end:new Date},status:x.USING,holder:"conan",selected:!0,isNew:!0};m.getState().addLocalCard(e)},className:"fixed right-6 bottom-[88px] z-40 w-14 h-14 rounded-full bg-indigo-600 shadow-[0_8px_20px_rgba(79,70,229,0.4)] flex items-center justify-center text-white active:scale-95 transition-transform",children:(0,s.jsx)(j,{size:28})}),o&&(0,s.jsx)("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",onClick:l,children:(0,s.jsxs)("div",{className:"w-full max-w-2xl bg-[#18181b] border-t sm:border border-white/10 rounded-t-3xl sm:rounded-2xl shadow-2xl flex flex-col h-[92vh] sm:h-auto sm:max-h-[90vh] overflow-hidden animate-in slide-in-from-bottom sm:zoom-in-95 duration-300 ring-1 ring-white/10",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-white/5 flex items-center justify-between bg-white/5 shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white truncate max-w-[200px] sm:max-w-md",children:o.name||"새 카드"}),(0,s.jsx)("div",{className:`px-2.5 py-0.5 rounded-full text-[10px] sm:text-xs font-medium shrink-0 ${B(o.status)}`,children:$(o.status)})]}),(0,s.jsx)("button",{className:"p-2 -mr-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-full transition-colors",onClick:l,children:(0,s.jsx)(N,{size:20})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0 sm:p-2 bg-[#121214]",children:(0,s.jsx)(M,{})})]})}),(0,s.jsx)(I,{})]})}let $=e=>({[x.USING]:"사용중",[x.KEEPING]:"보관중",[x.TERMINATED]:"해지됨"})[e]||e,B=e=>{switch(e){case x.USING:return"bg-green-500/20 text-green-300 ring-1 ring-green-500/30";case x.KEEPING:return"bg-amber-500/20 text-amber-300 ring-1 ring-amber-500/30";case x.TERMINATED:return"bg-red-500/20 text-red-300 ring-1 ring-red-500/30";default:return"bg-gray-500/20 text-gray-300"}};e.s(["default",()=>P],52683)}]);